<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>apreq.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.15 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Data Fields</a> &nbsp; <a class="qindex" href="globals.html">Globals</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>apreq.h</h1><a href="apreq_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*</font>
00002 <font class="comment">**  Copyright 2003-2004  The Apache Software Foundation</font>
00003 <font class="comment">**</font>
00004 <font class="comment">**  Licensed under the Apache License, Version 2.0 (the "License");</font>
00005 <font class="comment">**  you may not use this file except in compliance with the License.</font>
00006 <font class="comment">**  You may obtain a copy of the License at</font>
00007 <font class="comment">**</font>
00008 <font class="comment">**      http://www.apache.org/licenses/LICENSE-2.0</font>
00009 <font class="comment">**</font>
00010 <font class="comment">**  Unless required by applicable law or agreed to in writing, software</font>
00011 <font class="comment">**  distributed under the License is distributed on an "AS IS" BASIS,</font>
00012 <font class="comment">**  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</font>
00013 <font class="comment">**  See the License for the specific language governing permissions and</font>
00014 <font class="comment">**  limitations under the License.</font>
00015 <font class="comment">*/</font>
00016 
00017 <font class="preprocessor">#ifndef APREQ_H</font>
00018 <font class="preprocessor"></font><font class="preprocessor">#define APREQ_H</font>
00019 <font class="preprocessor"></font>
00020 <font class="preprocessor">#include "<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__tables_8h.html">apr_tables.h</a>"</font> 
00021 <font class="preprocessor">#include "<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__file__io_8h.html">apr_file_io.h</a>"</font>
00022 <font class="preprocessor">#include "<a class="codeRef" doxygen="apu.tag:http://apr.apache.org/docs/apr-util/" href="http://apr.apache.org/docs/apr-util/apr__buckets_8h.html">apr_buckets.h</a>"</font>
00023 <font class="preprocessor">#include &lt;stddef.h&gt;</font>
00024 
00025 <font class="preprocessor">#ifdef  __cplusplus</font>
00026 <font class="preprocessor"></font> <font class="keyword">extern</font> <font class="stringliteral">"C"</font> {
00027 <font class="preprocessor">#endif </font>
00028 <font class="preprocessor"></font>
00095 <font class="preprocessor">#ifndef WIN32</font>
00096 <font class="preprocessor"></font><font class="preprocessor">#define APREQ_DECLARE(d)                APR_DECLARE(d)</font>
00097 <font class="preprocessor"></font><font class="preprocessor">#define APREQ_DECLARE_NONSTD(d)         APR_DECLARE_NONSTD(d)</font>
00098 <font class="preprocessor"></font><font class="preprocessor">#else</font>
00099 <font class="preprocessor"></font><font class="preprocessor">#define APREQ_DECLARE(type)             __declspec(dllexport) type __stdcall</font>
00100 <font class="preprocessor"></font><font class="preprocessor">#define APREQ_DECLARE_NONSTD(type)      __declspec(dllexport) type</font>
00101 <font class="preprocessor"></font><font class="preprocessor">#define APREQ_DECLARE_DATA              __declspec(dllexport)</font>
00102 <font class="preprocessor"></font><font class="preprocessor">#endif</font>
00103 <font class="preprocessor"></font>
00104 <font class="preprocessor">#define APREQ_URL_ENCTYPE               "application/x-www-form-urlencoded"</font>
00105 <font class="preprocessor"></font><font class="preprocessor">#define APREQ_MFD_ENCTYPE               "multipart/form-data"</font>
00106 <font class="preprocessor"></font><font class="preprocessor">#define APREQ_XML_ENCTYPE               "application/xml"</font>
00107 <font class="preprocessor"></font>
00108 <font class="preprocessor">#define APREQ_NELTS                     8</font>
00109 <font class="preprocessor"></font><font class="preprocessor">#define APREQ_READ_AHEAD                (64 * 1024)</font>
00110 <font class="preprocessor"></font><font class="preprocessor">#define APREQ_MAX_BRIGADE_LEN           (256 * 1024)</font>
00111 <font class="preprocessor"></font>
<a name="l00115"></a><a class="code" href="structapreq__value__t.html">00115</a> <font class="keyword">typedef</font> <font class="keyword">struct </font><a class="code" href="structapreq__value__t.html">apreq_value_t</a> {
<a name="l00116"></a><a class="code" href="structapreq__value__t.html#m0">00116</a>     <font class="keyword">const</font> <font class="keywordtype">char</font>    *<a class="code" href="structapreq__value__t.html#m0">name</a>;    
<a name="l00117"></a><a class="code" href="structapreq__value__t.html#m1">00117</a>     <a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__errno_8h.html#a0">apr_status_t</a>   <a class="code" href="structapreq__value__t.html#m1">status</a>;  
<a name="l00118"></a><a class="code" href="structapreq__value__t.html#m2">00118</a>     <a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a>     <a class="code" href="structapreq__value__t.html#m2">size</a>;    
<a name="l00119"></a><a class="code" href="structapreq__value__t.html#m3">00119</a>     <font class="keywordtype">char</font>           <a class="code" href="structapreq__value__t.html#m3">data</a>[1]; 
00120 } <a class="code" href="structapreq__value__t.html">apreq_value_t</a>;
00121 
00122 <font class="keyword">typedef</font> <a class="code" href="structapreq__value__t.html">apreq_value_t</a> *(apreq_value_merge_t)(<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__pools_8h.html#a0">apr_pool_t</a> *p,
00123                                              <font class="keyword">const</font> <a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/structapr__array__header__t.html">apr_array_header_t</a> *a);
00124 <font class="keyword">typedef</font> <a class="code" href="structapreq__value__t.html">apreq_value_t</a> *(apreq_value_copy_t)(<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__pools_8h.html#a0">apr_pool_t</a> *p,
00125                                             <font class="keyword">const</font> <a class="code" href="structapreq__value__t.html">apreq_value_t</a> *v);
00126 
00127 
00128 <font class="preprocessor">#define apreq_attr_to_type(T,A,P) ( (T*) ((char*)(P)-offsetof(T,A)) )</font>
00129 <font class="preprocessor"></font>
<a name="l00137"></a><a class="code" href="group__Utils.html#a33">00137</a> <font class="preprocessor">#define apreq_char_to_value(ptr)  apreq_attr_to_type(apreq_value_t, data, ptr)</font>
00138 <font class="preprocessor"></font><font class="preprocessor">#define apreq_strtoval(ptr)  apreq_char_to_value(ptr)</font>
00139 <font class="preprocessor"></font>
<a name="l00148"></a><a class="code" href="group__Utils.html#a35">00148</a> <font class="preprocessor">#define apreq_strlen(ptr) (apreq_strtoval(ptr)-&gt;size)</font>
00149 <font class="preprocessor"></font>
00163 APREQ_DECLARE(<a class="code" href="structapreq__value__t.html">apreq_value_t</a> *) apreq_make_value(<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__pools_8h.html#a0">apr_pool_t</a> *p, 
00164                                                 <font class="keyword">const</font> <font class="keywordtype">char</font> *name,
00165                                                 <font class="keyword">const</font> <a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a> nlen,
00166                                                 <font class="keyword">const</font> <font class="keywordtype">char</font> *val, 
00167                                                 <font class="keyword">const</font> <a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a> vlen);
00168 
00174 <a class="code" href="structapreq__value__t.html">apreq_value_t</a> * apreq_copy_value(<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__pools_8h.html#a0">apr_pool_t</a> *p, 
00175                                  <font class="keyword">const</font> <a class="code" href="structapreq__value__t.html">apreq_value_t</a> *val);
00176 
00182 <a class="code" href="structapreq__value__t.html">apreq_value_t</a> * apreq_merge_values(<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__pools_8h.html#a0">apr_pool_t</a> *p, 
00183                                    <font class="keyword">const</font> <a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/structapr__array__header__t.html">apr_array_header_t</a> *arr);
00184 
00189 APREQ_DECLARE(<font class="keyword">const</font> <font class="keywordtype">char</font> *)apreq_enctype(<font class="keywordtype">void</font> *env);
00190 
<a name="l00192"></a><a class="code" href="group__Utils.html#a36">00192</a> <font class="keyword">typedef</font> <font class="keyword">enum</font> { 
00193     <a class="code" href="apreq_8h.html#a36a15">AS_IS</a>,      
00194     <a class="code" href="apreq_8h.html#a36a16">ENCODE</a>,     
00195     <a class="code" href="apreq_8h.html#a36a17">DECODE</a>,     
00196     <a class="code" href="apreq_8h.html#a36a18">QUOTE</a>       
00197 } <a class="code" href="apreq_8h.html#a36">apreq_join_t</a>;
00198 
00207 APREQ_DECLARE(<font class="keyword">const</font> <font class="keywordtype">char</font> *) apreq_join(<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__pools_8h.html#a0">apr_pool_t</a> *p, 
00208                                        <font class="keyword">const</font> <font class="keywordtype">char</font> *sep, 
00209                                        <font class="keyword">const</font> <a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/structapr__array__header__t.html">apr_array_header_t</a> *arr, 
00210                                        <a class="code" href="apreq_8h.html#a36">apreq_join_t</a> mode);
00211 
00212 
<a name="l00214"></a><a class="code" href="group__Utils.html#a37">00214</a> <font class="keyword">typedef</font> <font class="keyword">enum</font> {
00215     <a class="code" href="apreq_8h.html#a37a19">FULL</a>,       
00216     <a class="code" href="apreq_8h.html#a37a20">PARTIAL</a>     
00217 } <a class="code" href="apreq_8h.html#a37">apreq_match_t</a>;
00218 
00228 APREQ_DECLARE(<font class="keywordtype">char</font> *) apreq_memmem(<font class="keywordtype">char</font>* hay, <a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a> hlen, 
00229                                    <font class="keyword">const</font> <font class="keywordtype">char</font>* ndl, <a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a> nlen, 
00230                                    <font class="keyword">const</font> <a class="code" href="apreq_8h.html#a37">apreq_match_t</a> type);
00231 
00242 APREQ_DECLARE(<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a8">apr_ssize_t</a>) apreq_index(<font class="keyword">const</font> <font class="keywordtype">char</font>* hay, <a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a> hlen, 
00243                         <font class="keyword">const</font> <font class="keywordtype">char</font>* ndl, <a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a> nlen, 
00244                         <font class="keyword">const</font> <a class="code" href="apreq_8h.html#a37">apreq_match_t</a> type);
00255 APREQ_DECLARE(<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a>) apreq_quote(<font class="keywordtype">char</font> *dest, <font class="keyword">const</font> <font class="keywordtype">char</font> *src, 
00256                                       <font class="keyword">const</font> <a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a> slen);
00257 
00268 APREQ_DECLARE(<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a>) apreq_quote_once(<font class="keywordtype">char</font> *dest, <font class="keyword">const</font> <font class="keywordtype">char</font> *src, 
00269                                            <font class="keyword">const</font> <a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a> slen);
00270 
00279 APREQ_DECLARE(<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a>) apreq_encode(<font class="keywordtype">char</font> *dest, <font class="keyword">const</font> <font class="keywordtype">char</font> *src, 
00280                                        <font class="keyword">const</font> <a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a> slen);
00281 
00291 APREQ_DECLARE(<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a8">apr_ssize_t</a>) apreq_decode(<font class="keywordtype">char</font> *dest, <font class="keyword">const</font> <font class="keywordtype">char</font> *src, <font class="keyword">const</font> <a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a> slen);
00292 
00302 APREQ_DECLARE(<font class="keywordtype">char</font> *) apreq_escape(<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__pools_8h.html#a0">apr_pool_t</a> *p, 
00303                                    <font class="keyword">const</font> <font class="keywordtype">char</font> *src, <font class="keyword">const</font> <a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a> slen);
00304 
00312 APREQ_DECLARE(<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a8">apr_ssize_t</a>) apreq_unescape(<font class="keywordtype">char</font> *str);
00313 
00314 
<a name="l00316"></a><a class="code" href="group__Utils.html#a38">00316</a> <font class="keyword">typedef</font> <font class="keyword">enum</font> {
00317     <a class="code" href="apreq_8h.html#a38a21">HTTP</a>,       
00318     <a class="code" href="apreq_8h.html#a38a22">NSCOOKIE</a>    
00319 } <a class="code" href="apreq_8h.html#a38">apreq_expires_t</a>;
00320 
00334 APREQ_DECLARE(<font class="keywordtype">char</font> *) apreq_expires(<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__pools_8h.html#a0">apr_pool_t</a> *p, <font class="keyword">const</font> <font class="keywordtype">char</font> *time_str, 
00335                                     <font class="keyword">const</font> <a class="code" href="apreq_8h.html#a38">apreq_expires_t</a> type);
00336 
00343 APREQ_DECLARE(<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a5">apr_int64_t</a>) apreq_atoi64f(<font class="keyword">const</font> <font class="keywordtype">char</font> *s);
00344 
00351 APREQ_DECLARE(<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a5">apr_int64_t</a>) apreq_atoi64t(<font class="keyword">const</font> <font class="keywordtype">char</font> *s);
00352 
00364 APREQ_DECLARE(<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__errno_8h.html#a0">apr_status_t</a>) apreq_brigade_fwrite(<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__file__io_8h.html#a2">apr_file_t</a> *f,
00365                                                  <a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a9">apr_off_t</a> *wlen,
00366                                                  <a class="codeRef" doxygen="apu.tag:http://apr.apache.org/docs/apr-util/" href="http://apr.apache.org/docs/apr-util/structapr__bucket__brigade.html">apr_bucket_brigade</a> *bb);
00379 APREQ_DECLARE(<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__errno_8h.html#a0">apr_status_t</a>) apreq_file_mktemp(<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__file__io_8h.html#a2">apr_file_t</a> **fp, 
00380                                               <a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__pools_8h.html#a0">apr_pool_t</a> *pool,
00381                                               <font class="keyword">const</font> <font class="keywordtype">char</font> *path);
00382 
00391 APREQ_DECLARE(<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__file__io_8h.html#a2">apr_file_t</a> *) apreq_brigade_spoolfile(<a class="codeRef" doxygen="apu.tag:http://apr.apache.org/docs/apr-util/" href="http://apr.apache.org/docs/apr-util/structapr__bucket__brigade.html">apr_bucket_brigade</a> *bb);
00392 
00399 APREQ_DECLARE(<a class="codeRef" doxygen="apu.tag:http://apr.apache.org/docs/apr-util/" href="http://apr.apache.org/docs/apr-util/structapr__bucket__brigade.html">apr_bucket_brigade</a> *)
00400          apreq_brigade_copy(<font class="keyword">const</font> <a class="codeRef" doxygen="apu.tag:http://apr.apache.org/docs/apr-util/" href="http://apr.apache.org/docs/apr-util/structapr__bucket__brigade.html">apr_bucket_brigade</a> *bb);
00401 
00411 APREQ_DECLARE(<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__errno_8h.html#a0">apr_status_t</a>)
00412          apreq_header_attribute(<font class="keyword">const</font> <font class="keywordtype">char</font> *hdr,
00413                                 <font class="keyword">const</font> <font class="keywordtype">char</font> *name, <font class="keyword">const</font> <a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a> nlen,
00414                                 <font class="keyword">const</font> <font class="keywordtype">char</font> **val, <a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a> *vlen);
00415 
00418 <font class="preprocessor">#ifdef __cplusplus</font>
00419 <font class="preprocessor"></font> }
00420 <font class="preprocessor">#endif</font>
00421 <font class="preprocessor"></font>
00422 <font class="preprocessor">#endif </font><font class="comment">/* APREQ_H */</font>
</pre></div><hr><address align="right"><small>Generated on Sat Jun 12 10:16:29 2004 for libapreq2 by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.15 </small></address>
</body>
</html>

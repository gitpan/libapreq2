<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Cookies (request and response)</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.15 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Data Fields</a> &nbsp; <a class="qindex" href="globals.html">Globals</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>Cookies (request and response)<br>
<small>
[<a class="el" href="group__LIBRARY.html">libapreq2</a>]</small>
</h1><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Data Structures</h2></td></tr>
<tr><td nowrap align=right valign=top>struct &nbsp;</td><td valign=bottom><a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a></td></tr>
<tr><td nowrap align=right valign=top>struct &nbsp;</td><td valign=bottom><a class="el" href="structapreq__jar__t.html">apreq_jar_t</a></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="group__cookies.html#a13">APREQ_COOKIE_VERSION_DEFAULT</a>&nbsp;&nbsp;&nbsp;APREQ_COOKIE_VERSION_NETSCAPE</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="group__cookies.html#a14">APREQ_COOKIE_MAX_LENGTH</a>&nbsp;&nbsp;&nbsp;4096</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><b>apreq_value_to_cookie</b>(ptr)</td></tr>
<tr><td nowrap align=right valign=top><a name="a16" doxytag="cookies::apreq_cookie_name"></a>
#define&nbsp;</td><td valign=bottom><b>apreq_cookie_name</b>(c)&nbsp;&nbsp;&nbsp;((c)-&gt;v.name)</td></tr>
<tr><td nowrap align=right valign=top><a name="a17" doxytag="cookies::apreq_cookie_value"></a>
#define&nbsp;</td><td valign=bottom><b>apreq_cookie_value</b>(c)&nbsp;&nbsp;&nbsp;((c)-&gt;v.data)</td></tr>
<tr><td nowrap align=right valign=top><a name="a18" doxytag="cookies::apreq_jar_items"></a>
#define&nbsp;</td><td valign=bottom><b>apreq_jar_items</b>(j)&nbsp;&nbsp;&nbsp;<a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__tables_8h.html#a5">apr_table_elts</a>(j-&gt;cookies)-&gt;nelts</td></tr>
<tr><td nowrap align=right valign=top><a name="a19" doxytag="cookies::apreq_jar_nelts"></a>
#define&nbsp;</td><td valign=bottom><b>apreq_jar_nelts</b>(j)&nbsp;&nbsp;&nbsp;<a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__tables_8h.html#a5">apr_table_elts</a>(j-&gt;cookies)-&gt;nelts</td></tr>
<tr><td nowrap align=right valign=top><a name="a20" doxytag="cookies::apreq_add_cookie"></a>
#define&nbsp;</td><td valign=bottom><b>apreq_add_cookie</b>(j, c)&nbsp;&nbsp;&nbsp;apreq_jar_add(j,c)</td></tr>
<tr><td nowrap align=right valign=top><a name="a21" doxytag="cookies::apreq_make_cookie"></a>
#define&nbsp;</td><td valign=bottom><b>apreq_make_cookie</b>(p, n, nl, v, vl)&nbsp;&nbsp;&nbsp;apreq_cookie_make(p,n,nl,v,vl)</td></tr>
<tr><td nowrap align=right valign=top><a name="a22" doxytag="cookies::apreq_serialize_cookie"></a>
#define&nbsp;</td><td valign=bottom><b>apreq_serialize_cookie</b>(buf, len, c)&nbsp;&nbsp;&nbsp;apreq_cookie_serialize(c,buf,len)</td></tr>
<tr><td colspan=2><br><h2>Typedefs</h2></td></tr>
<tr><td nowrap align=right valign=top>typedef apreq_jar_t&nbsp;</td><td valign=bottom><a class="el" href="group__cookies.html#a0">apreq_jar_t</a></td></tr>
<tr><td nowrap align=right valign=top>typedef apreq_cookie_t&nbsp;</td><td valign=bottom><a class="el" href="group__cookies.html#a1">apreq_cookie_t</a></td></tr>
<tr><td colspan=2><br><h2>Enumerations</h2></td></tr>
<tr><td nowrap align=right valign=top>enum &nbsp;</td><td valign=bottom><a class="el" href="group__cookies.html#a23">apreq_cookie_version_t</a> { <b>APREQ_COOKIE_VERSION_NETSCAPE</b>, 
<b>APREQ_COOKIE_VERSION_RFC</b>
 }</td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *&nbsp;</td><td valign=bottom><a class="el" href="group__cookies.html#a2">apreq_cookie</a> (const <a class="el" href="structapreq__jar__t.html">apreq_jar_t</a> *jar, const char *name)</td></tr>
<tr><td nowrap align=right valign=top><a class="elRef" doxygen="apu.tag:http://apr.apache.org/docs/apr-util/" href="http://apr.apache.org/docs/apr-util/apr__optional_8h.html#a0">void</a>&nbsp;</td><td valign=bottom><a class="el" href="group__cookies.html#a3">apreq_jar_add</a> (<a class="el" href="structapreq__jar__t.html">apreq_jar_t</a> *jar, const <a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *c)</td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="structapreq__jar__t.html">apreq_jar_t</a> *&nbsp;</td><td valign=bottom><a class="el" href="group__cookies.html#a4">apreq_jar</a> (<a class="elRef" doxygen="apu.tag:http://apr.apache.org/docs/apr-util/" href="http://apr.apache.org/docs/apr-util/apr__optional_8h.html#a0">void</a> *env, const char *hdr)</td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *&nbsp;</td><td valign=bottom><a class="el" href="group__cookies.html#a5">apreq_cookie_make</a> (<a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__pools_8h.html#a0">apr_pool_t</a> *p, const char *name, const <a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a> nlen, const char *<a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__tables_8h.html#a4">value</a>, const <a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a> vlen)</td></tr>
<tr><td nowrap align=right valign=top><a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__errno_8h.html#a0">apr_status_t</a>&nbsp;</td><td valign=bottom><a class="el" href="group__cookies.html#a6">apreq_cookie_attr</a> (<a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__pools_8h.html#a0">apr_pool_t</a> *p, <a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *c, const char *attr, <a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a> alen, const char *val, <a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a> vlen)</td></tr>
<tr><td nowrap align=right valign=top>char *&nbsp;</td><td valign=bottom><a class="el" href="group__cookies.html#a7">apreq_cookie_as_string</a> (const <a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *c, <a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__pools_8h.html#a0">apr_pool_t</a> *p)</td></tr>
<tr><td nowrap align=right valign=top><a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__tables_8h.html#a28">int</a>&nbsp;</td><td valign=bottom><a class="el" href="group__cookies.html#a8">apreq_cookie_serialize</a> (const <a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *c, char *buf, <a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a> len)</td></tr>
<tr><td nowrap align=right valign=top><a class="elRef" doxygen="apu.tag:http://apr.apache.org/docs/apr-util/" href="http://apr.apache.org/docs/apr-util/apr__optional_8h.html#a0">void</a>&nbsp;</td><td valign=bottom><a class="el" href="group__cookies.html#a9">apreq_cookie_expires</a> (<a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *c, const char *time_str)</td></tr>
<tr><td nowrap align=right valign=top><a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__errno_8h.html#a0">apr_status_t</a>&nbsp;</td><td valign=bottom><a class="el" href="group__cookies.html#a10">apreq_cookie_bake</a> (const <a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *c, <a class="elRef" doxygen="apu.tag:http://apr.apache.org/docs/apr-util/" href="http://apr.apache.org/docs/apr-util/apr__optional_8h.html#a0">void</a> *env)</td></tr>
<tr><td nowrap align=right valign=top><a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__errno_8h.html#a0">apr_status_t</a>&nbsp;</td><td valign=bottom><a class="el" href="group__cookies.html#a11">apreq_cookie_bake2</a> (const <a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *c, <a class="elRef" doxygen="apu.tag:http://apr.apache.org/docs/apr-util/" href="http://apr.apache.org/docs/apr-util/apr__optional_8h.html#a0">void</a> *env)</td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="group__cookies.html#a23">apreq_cookie_version_t</a>&nbsp;</td><td valign=bottom><a class="el" href="group__cookies.html#a12">apreq_ua_cookie_version</a> (<a class="elRef" doxygen="apu.tag:http://apr.apache.org/docs/apr-util/" href="http://apr.apache.org/docs/apr-util/apr__optional_8h.html#a0">void</a> *env)</td></tr>
</table>
<hr><h2>Define Documentation</h2>
<a name="a14" doxytag="apreq_cookie.h::APREQ_COOKIE_MAX_LENGTH"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define APREQ_COOKIE_MAX_LENGTH&nbsp;&nbsp;&nbsp;4096
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Maximum length of a single Set-Cookie(2) header     </td>
  </tr>
</table>
<a name="a13" doxytag="apreq_cookie.h::APREQ_COOKIE_VERSION_DEFAULT"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define APREQ_COOKIE_VERSION_DEFAULT&nbsp;&nbsp;&nbsp;APREQ_COOKIE_VERSION_NETSCAPE
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Default version, used when creating a new cookie. See <a class="el" href="group__cookies.html#a5">apreq_cookie_make</a>().     </td>
  </tr>
</table>
<a name="a15" doxytag="apreq_cookie.h::apreq_value_to_cookie"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define apreq_value_to_cookie</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">ptr&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><div class="fragment"><pre>apreq_attr_to_type(<a class="code" href="structapreq__cookie__t.html">apreq_cookie_t</a>, \
                                                      v, ptr)</pre></div>    </td>
  </tr>
</table>
<hr><h2>Typedef Documentation</h2>
<a name="a1" doxytag="apreq_cookie.h::apreq_cookie_t"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct apreq_cookie_t  apreq_cookie_t
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
cookie XXX ...     </td>
  </tr>
</table>
<a name="a0" doxytag="apreq_cookie.h::apreq_jar_t"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct apreq_jar_t  apreq_jar_t
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Cookie Jar     </td>
  </tr>
</table>
<hr><h2>Enumeration Type Documentation</h2>
<a name="a23" doxytag="apreq_cookie.h::apreq_cookie_version_t"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> enum apreq_cookie_version_t
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Cookie Version. libapreq does not distinguish between rfc2109 and its successor rfc2965; both are referred to as APREQ_COOKIE_VERSION_RFC. Users can distinguish between them in their outgoing cookies by using <a class="el" href="group__cookies.html#a10">apreq_cookie_bake</a>() for sending rfc2109 cookies, or <a class="el" href="group__cookies.html#a11">apreq_cookie_bake2</a>() for rfc2965. The original Netscape cookie spec is still preferred for its greater portability, it is named APREQ_COOKIE_VERSION_NETSCAPE.     </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a name="a2" doxytag="apreq_cookie.c::apreq_cookie"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a>* apreq_cookie </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="structapreq__jar__t.html">apreq_jar_t</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>jar</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Fetches a cookie from the jar<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>jar</em>&nbsp;</td><td>
The cookie jar. </td></tr>
<tr><td valign=top><em>name</em>&nbsp;</td><td>
The name of the desired cookie. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a7" doxytag="apreq_cookie.c::apreq_cookie_as_string"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char* apreq_cookie_as_string </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>c</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__pools_8h.html#a0">apr_pool_t</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>p</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns a string that represents the cookie as it would appear  in a valid "Set-Cookie*" header.<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>c</em>&nbsp;</td><td>
The cookie. </td></tr>
<tr><td valign=top><em>p</em>&nbsp;</td><td>
The pool. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a6" doxytag="apreq_cookie.c::apreq_cookie_attr"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__errno_8h.html#a0">apr_status_t</a> apreq_cookie_attr </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__pools_8h.html#a0">apr_pool_t</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>p</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>c</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>attr</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>alen</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>val</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>vlen</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets the associated cookie attribute. <dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>p</em>&nbsp;</td><td>
Pool for allocating the new attribute. </td></tr>
<tr><td valign=top><em>c</em>&nbsp;</td><td>
Cookie. </td></tr>
<tr><td valign=top><em>attr</em>&nbsp;</td><td>
Name of attribute- leading '-' or '$' characters are ignored. </td></tr>
<tr><td valign=top><em>alen</em>&nbsp;</td><td>
Length of attr. </td></tr>
<tr><td valign=top><em>val</em>&nbsp;</td><td>
Value of new attribute. </td></tr>
<tr><td valign=top><em>vlen</em>&nbsp;</td><td>
Length of new attribute. </td></tr>
</table>
</dl><dl compact><dt><b>
Remarks: </b><dd>
Ensures cookie version &amp; time are kept in sync. </dl>    </td>
  </tr>
</table>
<a name="a10" doxytag="apreq_cookie.c::apreq_cookie_bake"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__errno_8h.html#a0">apr_status_t</a> apreq_cookie_bake </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>c</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="elRef" doxygen="apu.tag:http://apr.apache.org/docs/apr-util/" href="http://apr.apache.org/docs/apr-util/apr__optional_8h.html#a0">void</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>env</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Add the cookie to the outgoing "Set-Cookie" headers.<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>c</em>&nbsp;</td><td>
The cookie. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a11" doxytag="apreq_cookie.c::apreq_cookie_bake2"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__errno_8h.html#a0">apr_status_t</a> apreq_cookie_bake2 </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>c</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="elRef" doxygen="apu.tag:http://apr.apache.org/docs/apr-util/" href="http://apr.apache.org/docs/apr-util/apr__optional_8h.html#a0">void</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>env</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Add the cookie to the outgoing "Set-Cookie2" headers.<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>c</em>&nbsp;</td><td>
The cookie. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a9" doxytag="apreq_cookie.c::apreq_cookie_expires"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="apu.tag:http://apr.apache.org/docs/apr-util/" href="http://apr.apache.org/docs/apr-util/apr__optional_8h.html#a0">void</a> apreq_cookie_expires </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>c</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>time_str</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the Cookie's expiration date.<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>c</em>&nbsp;</td><td>
The cookie. </td></tr>
<tr><td valign=top><em>time_str</em>&nbsp;</td><td>
If NULL, the Cookie's expiration date is unset, making it a session cookie. This means no "expires" or "max-age"  attribute will appear in the cookie's serialized form. If time_str is not NULL, the expiration date will be reset to the offset (from now) represented by time_str. The time_str should be in a format that  <a class="el" href="group__Utils.html#a18">apreq_atoi64t</a>() can understand, namely /[+-]?\d+\s*[YMDhms]/. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a5" doxytag="apreq_cookie.c::apreq_cookie_make"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a>* apreq_cookie_make </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__pools_8h.html#a0">apr_pool_t</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>pool</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const <a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>nlen</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>value</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const <a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>vlen</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns a new cookie, made from the argument list.<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>pool</em>&nbsp;</td><td>
Pool which allocates the cookie. </td></tr>
<tr><td valign=top><em>name</em>&nbsp;</td><td>
The cookie's name. </td></tr>
<tr><td valign=top><em>nlen</em>&nbsp;</td><td>
Length of name. </td></tr>
<tr><td valign=top><em>value</em>&nbsp;</td><td>
The cookie's value. </td></tr>
<tr><td valign=top><em>vlen</em>&nbsp;</td><td>
Length of value. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a8" doxytag="apreq_cookie.c::apreq_cookie_serialize"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__tables_8h.html#a28">int</a> apreq_cookie_serialize </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>c</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>buf</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>len</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Same functionality as apreq_cookie_as_string. Stores the string representation in buf, using up to len bytes in buf as storage. The return value has the same semantics as that of apr_snprintf, including the special behavior for a "len = 0" argument.<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>c</em>&nbsp;</td><td>
The cookie. </td></tr>
<tr><td valign=top><em>buf</em>&nbsp;</td><td>
Storage location for the result. </td></tr>
<tr><td valign=top><em>len</em>&nbsp;</td><td>
Size of buf's storage area. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a4" doxytag="apreq_cookie.c::apreq_jar"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="structapreq__jar__t.html">apreq_jar_t</a>* apreq_jar </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="elRef" doxygen="apu.tag:http://apr.apache.org/docs/apr-util/" href="http://apr.apache.org/docs/apr-util/apr__optional_8h.html#a0">void</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>env</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>hdr</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Parse the incoming "Cookie:" headers into a cookie jar.<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>env</em>&nbsp;</td><td>
The current environment. </td></tr>
<tr><td valign=top><em>hdr</em>&nbsp;</td><td>
String to parse as a HTTP-merged "Cookie" header. </td></tr>
</table>
</dl><dl compact><dt><b>
Remarks: </b><dd>
"data = NULL" has special behavior. In this case, apreq_jar(env,NULL) will attempt to fetch a cached object from the environment via apreq_env_jar. Failing that, it will replace "hdr" with the result of <a class="el" href="group__ENV.html#a14">apreq_env_cookie</a>(env), parse that, and store the resulting object back within the environment. This maneuver is designed to mimimize parsing work, since generating the cookie jar is relatively expensive. </dl>    </td>
  </tr>
</table>
<a name="a3" doxytag="apreq_cookie.c::apreq_jar_add"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="apu.tag:http://apr.apache.org/docs/apr-util/" href="http://apr.apache.org/docs/apr-util/apr__optional_8h.html#a0">void</a> apreq_jar_add </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structapreq__jar__t.html">apreq_jar_t</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>jar</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>c</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Adds a cookie by pushing it to the bottom of the jar.<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>jar</em>&nbsp;</td><td>
The cookie jar. </td></tr>
<tr><td valign=top><em>c</em>&nbsp;</td><td>
The cookie to add. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a12" doxytag="apreq_cookie.c::apreq_ua_cookie_version"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="group__cookies.html#a23">apreq_cookie_version_t</a> apreq_ua_cookie_version </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="elRef" doxygen="apu.tag:http://apr.apache.org/docs/apr-util/" href="http://apr.apache.org/docs/apr-util/apr__optional_8h.html#a0">void</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>env</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Looks for the presence of a "Cookie2" header to determine whether or not the current User-Agent supports rfc2965. <dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>env</em>&nbsp;</td><td>
The current environment. </td></tr>
</table>
</dl><dl compact><dt><b>
Returns: </b><dd>
APREQ_COOKIE_VERSION_RFC if rfc2965 is supported,  APREQ_COOKIE_VERSION_NETSCAPE otherwise. </dl>    </td>
  </tr>
</table>
<hr><address align="right"><small>Generated on Sat Jun 12 10:16:30 2004 for libapreq2 by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.15 </small></address>
</body>
</html>

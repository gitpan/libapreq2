<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Cookies (request and response)</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Data Fields</a> &nbsp; <a class="qindex" href="globals.html">Globals</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>Cookies (request and response)<br>
<small>
[<a class="el" href="group__LIBRARY.html">libapreq2</a>]</small>
</h1><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Data Structures</h2></td></tr>
<tr><td nowrap align=right valign=top>struct &nbsp;</td><td valign=bottom><a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a></td></tr>
<tr><td nowrap align=right valign=top>struct &nbsp;</td><td valign=bottom><a class="el" href="structapreq__jar__t.html">apreq_jar_t</a></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td nowrap align=right valign=top><a name="a13" doxytag="cookies::APREQ_COOKIE_VERSION"></a>
#define&nbsp;</td><td valign=bottom><b>APREQ_COOKIE_VERSION</b>&nbsp;&nbsp;&nbsp;NETSCAPE</td></tr>
<tr><td nowrap align=right valign=top><a name="a14" doxytag="cookies::APREQ_COOKIE_LENGTH"></a>
#define&nbsp;</td><td valign=bottom><b>APREQ_COOKIE_LENGTH</b>&nbsp;&nbsp;&nbsp;4096</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><b>apreq_value_to_cookie</b>(ptr)</td></tr>
<tr><td nowrap align=right valign=top><a name="a16" doxytag="cookies::apreq_cookie_name"></a>
#define&nbsp;</td><td valign=bottom><b>apreq_cookie_name</b>(c)&nbsp;&nbsp;&nbsp;((c)-&gt;v.name)</td></tr>
<tr><td nowrap align=right valign=top><a name="a17" doxytag="cookies::apreq_cookie_value"></a>
#define&nbsp;</td><td valign=bottom><b>apreq_cookie_value</b>(c)&nbsp;&nbsp;&nbsp;((c)-&gt;v.data)</td></tr>
<tr><td nowrap align=right valign=top><a name="a18" doxytag="cookies::apreq_jar_items"></a>
#define&nbsp;</td><td valign=bottom><b>apreq_jar_items</b>(j)&nbsp;&nbsp;&nbsp;<a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__tables_8h.html#a4">apr_table_elts</a>(j-&gt;cookies)-&gt;nelts</td></tr>
<tr><td nowrap align=right valign=top><a name="a19" doxytag="cookies::apreq_jar_nelts"></a>
#define&nbsp;</td><td valign=bottom><b>apreq_jar_nelts</b>(j)&nbsp;&nbsp;&nbsp;<a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__tables_8h.html#a4">apr_table_elts</a>(j-&gt;cookies)-&gt;nelts</td></tr>
<tr><td colspan=2><br><h2>Typedefs</h2></td></tr>
<tr><td nowrap align=right valign=top>typedef apreq_jar_t&nbsp;</td><td valign=bottom><a class="el" href="group__cookies.html#a0">apreq_jar_t</a></td></tr>
<tr><td nowrap align=right valign=top>typedef apreq_cookie_t&nbsp;</td><td valign=bottom><a class="el" href="group__cookies.html#a1">apreq_cookie_t</a></td></tr>
<tr><td colspan=2><br><h2>Enumerations</h2></td></tr>
<tr><td nowrap align=right valign=top>enum &nbsp;</td><td valign=bottom><b>apreq_cookie_version_t</b> { <b>NETSCAPE</b>, 
<b>RFC</b>
 }</td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *&nbsp;</td><td valign=bottom><a class="el" href="group__cookies.html#a2">apreq_cookie</a> (const <a class="el" href="structapreq__jar__t.html">apreq_jar_t</a> *jar, const char *name)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__cookies.html#a3">apreq_add_cookie</a> (<a class="el" href="structapreq__jar__t.html">apreq_jar_t</a> *jar, const <a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *c)</td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="structapreq__jar__t.html">apreq_jar_t</a> *&nbsp;</td><td valign=bottom><a class="el" href="group__cookies.html#a4">apreq_jar</a> (void *env, const char *hdr)</td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *&nbsp;</td><td valign=bottom><a class="el" href="group__cookies.html#a5">apreq_make_cookie</a> (<a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__pools_8h.html#a0">apr_pool_t</a> *p, const char *name, const <a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a> nlen, const char *value, const <a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a> vlen)</td></tr>
<tr><td nowrap align=right valign=top><a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__errno_8h.html#a0">apr_status_t</a>&nbsp;</td><td valign=bottom><a class="el" href="group__cookies.html#a6">apreq_cookie_attr</a> (<a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__pools_8h.html#a0">apr_pool_t</a> *p, <a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *c, const char *attr, <a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a> alen, const char *val, <a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a> vlen)</td></tr>
<tr><td nowrap align=right valign=top>char *&nbsp;</td><td valign=bottom><a class="el" href="group__cookies.html#a7">apreq_cookie_as_string</a> (<a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__pools_8h.html#a0">apr_pool_t</a> *p, const <a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *c)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="group__cookies.html#a8">apreq_serialize_cookie</a> (char *buf, <a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a> len, const <a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *c)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__cookies.html#a9">apreq_cookie_expires</a> (<a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *c, const char *time_str)</td></tr>
<tr><td nowrap align=right valign=top><a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__errno_8h.html#a0">apr_status_t</a>&nbsp;</td><td valign=bottom><a class="el" href="group__cookies.html#a10">apreq_cookie_bake</a> (const <a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *c, void *env)</td></tr>
<tr><td nowrap align=right valign=top><a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__errno_8h.html#a0">apr_status_t</a>&nbsp;</td><td valign=bottom><a class="el" href="group__cookies.html#a11">apreq_cookie_bake2</a> (const <a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *c, void *env)</td></tr>
<tr><td nowrap align=right valign=top><a name="a12" doxytag="cookies::apreq_ua_cookie_version"></a>
apreq_cookie_version_t&nbsp;</td><td valign=bottom><b>apreq_ua_cookie_version</b> (void *env)</td></tr>
</table>
<hr><h2>Define Documentation</h2>
<a name="a15" doxytag="apreq_cookie.h::apreq_value_to_cookie"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define apreq_value_to_cookie</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">ptr&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><div class="fragment"><pre>apreq_attr_to_type(<a class="code" href="structapreq__cookie__t.html">apreq_cookie_t</a>, \
                                                      v, ptr)
</pre></div>    </td>
  </tr>
</table>
<hr><h2>Typedef Documentation</h2>
<a name="a1" doxytag="apreq_cookie.h::apreq_cookie_t"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct apreq_cookie_t  apreq_cookie_t
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
cookie XXX ...     </td>
  </tr>
</table>
<a name="a0" doxytag="apreq_cookie.h::apreq_jar_t"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct apreq_jar_t  apreq_jar_t
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Cookie Jar     </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a name="a3" doxytag="apreq_cookie.c::apreq_add_cookie"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void apreq_add_cookie </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structapreq__jar__t.html">apreq_jar_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>jar</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>c</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Adds a cookie by pushing it to the bottom of the jar.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>jar</em>&nbsp;</td><td>The cookie jar. </td></tr>
    <tr><td valign=top><em>c</em>&nbsp;</td><td>The cookie to add. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a2" doxytag="apreq_cookie.c::apreq_cookie"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a>* apreq_cookie </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="structapreq__jar__t.html">apreq_jar_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>jar</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Fetches a cookie from the jar<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>jar</em>&nbsp;</td><td>The cookie jar. </td></tr>
    <tr><td valign=top><em>name</em>&nbsp;</td><td>The name of the desired cookie. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a7" doxytag="apreq_cookie.c::apreq_cookie_as_string"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char* apreq_cookie_as_string </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__pools_8h.html#a0">apr_pool_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>p</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>c</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns a string that represents the cookie as it would appear in a valid "Set-Cookie*" header.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>c</em>&nbsp;</td><td>The cookie. </td></tr>
    <tr><td valign=top><em>p</em>&nbsp;</td><td>The pool. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a6" doxytag="apreq_cookie.c::apreq_cookie_attr"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__errno_8h.html#a0">apr_status_t</a> apreq_cookie_attr </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__pools_8h.html#a0">apr_pool_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>p</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>c</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>attr</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>alen</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>val</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>vlen</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets the associated cookie attribute. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>p</em>&nbsp;</td><td>Pool for allocating the new attribute. </td></tr>
    <tr><td valign=top><em>c</em>&nbsp;</td><td>Cookie. </td></tr>
    <tr><td valign=top><em>attr</em>&nbsp;</td><td>Name of attribute- leading '-' or '$' characters are ignored. </td></tr>
    <tr><td valign=top><em>alen</em>&nbsp;</td><td>Length of attr. </td></tr>
    <tr><td valign=top><em>val</em>&nbsp;</td><td>Value of new attribute. </td></tr>
    <tr><td valign=top><em>vlen</em>&nbsp;</td><td>Length of new attribute. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Remarks:</b></dt><dd>Ensures cookie version &amp; time are kept in sync. </dd></dl>
    </td>
  </tr>
</table>
<a name="a10" doxytag="apreq_cookie.c::apreq_cookie_bake"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__errno_8h.html#a0">apr_status_t</a> apreq_cookie_bake </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>c</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>env</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Add the cookie to the outgoing "Set-Cookie" headers.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>c</em>&nbsp;</td><td>The cookie. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a11" doxytag="apreq_cookie.c::apreq_cookie_bake2"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__errno_8h.html#a0">apr_status_t</a> apreq_cookie_bake2 </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>c</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>env</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Add the cookie to the outgoing "Set-Cookie2" headers.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>c</em>&nbsp;</td><td>The cookie. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a9" doxytag="apreq_cookie.c::apreq_cookie_expires"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void apreq_cookie_expires </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>c</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>time_str</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get/set the "expires" string. For NETSCAPE cookies, this returns the date (properly formatted) when the cookie is to expire. For RFC cookies, this function returns NULL.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>c</em>&nbsp;</td><td>The cookie. </td></tr>
    <tr><td valign=top><em>time_str</em>&nbsp;</td><td>If NULL, return the current expiry date. Otherwise replace with this value instead. The time_str should be in a format that <a class="el" href="group__Utils.html#a17">apreq_atoi64t()</a> can understand, namely /[+-]?+*[YMDhms]/. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a4" doxytag="apreq_cookie.c::apreq_jar"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="structapreq__jar__t.html">apreq_jar_t</a>* apreq_jar </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *&nbsp;</td>
          <td class="mdname" nowrap> <em>env</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>hdr</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Parse the incoming "Cookie:" headers into a cookie jar.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>env</em>&nbsp;</td><td>The current environment. </td></tr>
    <tr><td valign=top><em>hdr</em>&nbsp;</td><td>String to parse as a HTTP-merged "Cookie" header. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Remarks:</b></dt><dd>"data = NULL" has special behavior. In this case, apreq_jar(env,NULL) will attempt to fetch a cached object from the environment via apreq_env_jar. Failing that, it will replace "hdr" with the result of apreq_env_cookie(env), parse that, and store the resulting object back within the environment. This maneuver is designed to mimimize parsing work, since generating the cookie jar is relatively expensive. </dd></dl>
    </td>
  </tr>
</table>
<a name="a5" doxytag="apreq_cookie.c::apreq_make_cookie"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a>* apreq_make_cookie </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__pools_8h.html#a0">apr_pool_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pool</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const <a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>nlen</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>value</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const <a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>vlen</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns a new cookie, made from the argument list. The cookie is allocated from the ctx pool.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>ctx</em>&nbsp;</td><td>The current context. </td></tr>
    <tr><td valign=top><em>name</em>&nbsp;</td><td>The cookie's name. </td></tr>
    <tr><td valign=top><em>nlen</em>&nbsp;</td><td>Length of name. </td></tr>
    <tr><td valign=top><em>value</em>&nbsp;</td><td>The cookie's value. </td></tr>
    <tr><td valign=top><em>vlen</em>&nbsp;</td><td>Length of value. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a8" doxytag="apreq_cookie.c::apreq_serialize_cookie"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int apreq_serialize_cookie </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap> <em>buf</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="elRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>len</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="structapreq__cookie__t.html">apreq_cookie_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>c</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Same functionality as apreq_cookie_as_string. Stores the string representation in buf, using up to len bytes in buf as storage. The return value has the same semantics as that of apr_snprintf, including the special behavior for a "len = 0" argument.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>c</em>&nbsp;</td><td>The cookie. </td></tr>
    <tr><td valign=top><em>buf</em>&nbsp;</td><td>Storage location for the result. </td></tr>
    <tr><td valign=top><em>len</em>&nbsp;</td><td>Size of buf's storage area. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<hr><address style="align: right;"><small>Generated on Sat Nov 15 23:04:50 2003 for libapreq2 by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.3 </small></address>
</body>
</html>

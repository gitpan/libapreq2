<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>apreq_cookie.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.15 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Data Fields</a> &nbsp; <a class="qindex" href="globals.html">Globals</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>apreq_cookie.h</h1><a href="apreq__cookie_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*</font>
00002 <font class="comment">**  Copyright 2003-2004  The Apache Software Foundation</font>
00003 <font class="comment">**</font>
00004 <font class="comment">**  Licensed under the Apache License, Version 2.0 (the "License");</font>
00005 <font class="comment">**  you may not use this file except in compliance with the License.</font>
00006 <font class="comment">**  You may obtain a copy of the License at</font>
00007 <font class="comment">**</font>
00008 <font class="comment">**      http://www.apache.org/licenses/LICENSE-2.0</font>
00009 <font class="comment">**</font>
00010 <font class="comment">**  Unless required by applicable law or agreed to in writing, software</font>
00011 <font class="comment">**  distributed under the License is distributed on an "AS IS" BASIS,</font>
00012 <font class="comment">**  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</font>
00013 <font class="comment">**  See the License for the specific language governing permissions and</font>
00014 <font class="comment">**  limitations under the License.</font>
00015 <font class="comment">*/</font>
00016 
00017 <font class="preprocessor">#ifndef APREQ_COOKIE_H</font>
00018 <font class="preprocessor"></font><font class="preprocessor">#define APREQ_COOKIE_H</font>
00019 <font class="preprocessor"></font>
00020 <font class="preprocessor">#include "<a class="code" href="apreq_8h.html">apreq.h</a>"</font>
00021 <font class="preprocessor">#include "<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__tables_8h.html">apr_tables.h</a>"</font>
00022 
00023 <font class="preprocessor">#ifdef  __cplusplus</font>
00024 <font class="preprocessor"></font><font class="keyword">extern</font> <font class="stringliteral">"C"</font> {
00025 <font class="preprocessor">#endif </font>
00026 <font class="preprocessor"></font>
<a name="l00040"></a><a class="code" href="structapreq__jar__t.html">00040</a> <font class="keyword">typedef</font> <font class="keyword">struct </font><a class="code" href="structapreq__jar__t.html">apreq_jar_t</a> {
<a name="l00041"></a><a class="code" href="structapreq__jar__t.html#m0">00041</a>     <a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__tables_8h.html#a0">apr_table_t</a>   *<a class="code" href="structapreq__jar__t.html#m0">cookies</a>;     
<a name="l00042"></a><a class="code" href="structapreq__jar__t.html#m1">00042</a>     <font class="keywordtype">void</font>          *<a class="code" href="structapreq__jar__t.html#m1">env</a>;         
00043 } <a class="code" href="structapreq__jar__t.html">apreq_jar_t</a>;
00044 
00045 
<a name="l00056"></a><a class="code" href="group__cookies.html#a23">00056</a> <font class="keyword">typedef</font> <font class="keyword">enum</font> { APREQ_COOKIE_VERSION_NETSCAPE, 
00057                APREQ_COOKIE_VERSION_RFC } <a class="code" href="apreq__cookie_8h.html#a23">apreq_cookie_version_t</a>;
00058 
00059 
<a name="l00061"></a><a class="code" href="group__cookies.html#a13">00061</a> <font class="preprocessor">#define APREQ_COOKIE_VERSION_DEFAULT       APREQ_COOKIE_VERSION_NETSCAPE</font>
00062 <font class="preprocessor"></font>
<a name="l00064"></a><a class="code" href="group__cookies.html#a14">00064</a> <font class="preprocessor">#define APREQ_COOKIE_MAX_LENGTH            4096</font>
00065 <font class="preprocessor"></font>
<a name="l00067"></a><a class="code" href="structapreq__cookie__t.html">00067</a> <font class="keyword">typedef</font> <font class="keyword">struct </font><a class="code" href="structapreq__cookie__t.html">apreq_cookie_t</a> {
00068 
<a name="l00069"></a><a class="code" href="structapreq__cookie__t.html#m0">00069</a>     <a class="code" href="apreq__cookie_8h.html#a23">apreq_cookie_version_t</a> <a class="code" href="structapreq__cookie__t.html#m0">version</a>; 
00071     <font class="keywordtype">char</font>           *path;
00072     <font class="keywordtype">char</font>           *domain; 
00073     <font class="keywordtype">char</font>           *port;
00074     <font class="keywordtype">unsigned</font>        secure;
00075 
00076     <font class="keywordtype">char</font>           *comment;
00077     <font class="keywordtype">char</font>           *commentURL;
<a name="l00078"></a><a class="code" href="structapreq__cookie__t.html#m7">00078</a>     <a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__time_8h.html#a2">apr_time_t</a>      <a class="code" href="structapreq__cookie__t.html#m7">max_age</a>;     
<a name="l00079"></a><a class="code" href="structapreq__cookie__t.html#m8">00079</a>     <a class="code" href="structapreq__value__t.html">apreq_value_t</a>   <a class="code" href="structapreq__cookie__t.html#m8">v</a>;           
00081 } <a class="code" href="structapreq__cookie__t.html">apreq_cookie_t</a>;
00082 
00083 
00084 <font class="preprocessor">#define apreq_value_to_cookie(ptr) apreq_attr_to_type(apreq_cookie_t, \</font>
00085 <font class="preprocessor">                                                      v, ptr)</font>
00086 <font class="preprocessor"></font><font class="preprocessor">#define apreq_cookie_name(c)  ((c)-&gt;v.name)</font>
00087 <font class="preprocessor"></font><font class="preprocessor">#define apreq_cookie_value(c) ((c)-&gt;v.data)</font>
00088 <font class="preprocessor"></font>
00089 <font class="preprocessor">#define apreq_jar_items(j) apr_table_elts(j-&gt;cookies)-&gt;nelts</font>
00090 <font class="preprocessor"></font><font class="preprocessor">#define apreq_jar_nelts(j) apr_table_elts(j-&gt;cookies)-&gt;nelts</font>
00091 <font class="preprocessor"></font>
00099 APREQ_DECLARE(<a class="code" href="structapreq__cookie__t.html">apreq_cookie_t</a> *)apreq_cookie(<font class="keyword">const</font> <a class="code" href="structapreq__jar__t.html">apreq_jar_t</a> *jar,
00100                                             <font class="keyword">const</font> <font class="keywordtype">char</font> *name);
00101 
00109 APREQ_DECLARE(<font class="keywordtype">void</font>) apreq_jar_add(<a class="code" href="structapreq__jar__t.html">apreq_jar_t</a> *jar, 
00110                                      <font class="keyword">const</font> <a class="code" href="structapreq__cookie__t.html">apreq_cookie_t</a> *c);
00111 
00112 <font class="preprocessor">#define apreq_add_cookie(j,c) apreq_jar_add(j,c)</font>
00113 <font class="preprocessor"></font>
00130 APREQ_DECLARE(<a class="code" href="structapreq__jar__t.html">apreq_jar_t</a> *) apreq_jar(<font class="keywordtype">void</font> *env, <font class="keyword">const</font> <font class="keywordtype">char</font> *hdr);
00131 
00141 APREQ_DECLARE(<a class="code" href="structapreq__cookie__t.html">apreq_cookie_t</a> *) apreq_cookie_make(<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__pools_8h.html#a0">apr_pool_t</a> *pool, 
00142                                   <font class="keyword">const</font> <font class="keywordtype">char</font> *name, <font class="keyword">const</font> <a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a> nlen, 
00143                                   <font class="keyword">const</font> <font class="keywordtype">char</font> *<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__tables_8h.html#a4">value</a>, <font class="keyword">const</font> <a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a> vlen);
00144 
00145 <font class="preprocessor">#define apreq_make_cookie(p,n,nl,v,vl) apreq_cookie_make(p,n,nl,v,vl)</font>
00146 <font class="preprocessor"></font>
00158 APREQ_DECLARE(<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__errno_8h.html#a0">apr_status_t</a>) 
00159     apreq_cookie_attr(<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__pools_8h.html#a0">apr_pool_t</a> *p, <a class="code" href="structapreq__cookie__t.html">apreq_cookie_t</a> *c, 
00160                       <font class="keyword">const</font> <font class="keywordtype">char</font> *attr, <a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a> alen,
00161                       <font class="keyword">const</font> <font class="keywordtype">char</font> *val, <a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a> vlen);
00162 
00163 
00171 APREQ_DECLARE(<font class="keywordtype">char</font>*) apreq_cookie_as_string(<font class="keyword">const</font> <a class="code" href="structapreq__cookie__t.html">apreq_cookie_t</a> *c,
00172                                             <a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__pools_8h.html#a0">apr_pool_t</a> *p);
00173 
00174 
00186 APREQ_DECLARE(<font class="keywordtype">int</font>) apreq_cookie_serialize(<font class="keyword">const</font> <a class="code" href="structapreq__cookie__t.html">apreq_cookie_t</a> *c,
00187                                           <font class="keywordtype">char</font> *buf, <a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr_8h.html#a7">apr_size_t</a> len);
00188 
00189 <font class="preprocessor">#define apreq_serialize_cookie(buf,len,c) apreq_cookie_serialize(c,buf,len)</font>
00190 <font class="preprocessor"></font>
00202 APREQ_DECLARE(<font class="keywordtype">void</font>) apreq_cookie_expires(<a class="code" href="structapreq__cookie__t.html">apreq_cookie_t</a> *c, 
00203                                          <font class="keyword">const</font> <font class="keywordtype">char</font> *time_str);
00204 
00210 APREQ_DECLARE(<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__errno_8h.html#a0">apr_status_t</a>) apreq_cookie_bake(<font class="keyword">const</font> <a class="code" href="structapreq__cookie__t.html">apreq_cookie_t</a> *c, 
00211                                               <font class="keywordtype">void</font> *env);
00212 
00213 <font class="comment">/* XXX: how about baking whole cookie jars, too ??? */</font>
00214 
00220 APREQ_DECLARE(<a class="codeRef" doxygen="apr.tag:http://apr.apache.org/docs/apr/" href="http://apr.apache.org/docs/apr/apr__errno_8h.html#a0">apr_status_t</a>) apreq_cookie_bake2(<font class="keyword">const</font> <a class="code" href="structapreq__cookie__t.html">apreq_cookie_t</a> *c,
00221                                                <font class="keywordtype">void</font> *env);
00222 
00230 APREQ_DECLARE(<a class="code" href="apreq__cookie_8h.html#a23">apreq_cookie_version_t</a>) apreq_ua_cookie_version(<font class="keywordtype">void</font> *env);
00231 
00234 <font class="preprocessor">#ifdef __cplusplus</font>
00235 <font class="preprocessor"></font> }
00236 <font class="preprocessor">#endif</font>
00237 <font class="preprocessor"></font>
00238 <font class="preprocessor">#endif </font><font class="comment">/*APREQ_COOKIE_H*/</font>
00239 
00240 
</pre></div><hr><address align="right"><small>Generated on Sat Jun 12 10:16:29 2004 for libapreq2 by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.15 </small></address>
</body>
</html>
